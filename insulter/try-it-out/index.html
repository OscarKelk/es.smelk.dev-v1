<!--Page template Smelk Innovations-->
<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Radio Canada" rel="stylesheet"> 
    <link rel="stylesheet" href="styles.css">
    <title> Insulter | Try it out </title>
    <link rel="icon" type="image/x-icon" href="/assets/logo-coloured-notext.png">
  </head>
  
  <body>
    <iframe style="top:0;" src="/navbar/navbar.html" id="navbar" title="navbar"></iframe> 
    <div id="body">
      <div class="formtable">
        <form action="/insulter/try-it-out" onsubmit="return false;">
            <label for="name">Mum's name: </label>
            <input type="text" id="name" name="name" placeholder="Jane Smelk">
            <br>
            <label for="age">Age: </label>
            <input type="number" id="age" name="age" placeholder="50">
            <br>
            <label for="height">Height (metres): </label>
            <input type="float" id="height" name="height" placeholder="1.60">
            <br>
            <label for="weight">Weight (kg): </label>
            <input type="number" id="weight" name="weight" placeholder="175">
            <br>
            <label for="intelligence">Intelligence (IQ): </label>
            <input type="number" id="intelligence" name="intelligence" placeholder="100">
            <br>
            <label for="attractiveness">Attractiveness (1-10): </label>
            <input type="number" min="0" max ="10" id="attractiveness" name="attractiveness" placeholder="5">
            <br>
            <label for="scariness">Scariness (1-10): </label>
            <input type="number" min="0" max="10" id="scariness" name="scariness" placeholder="5">
            <br>
            <label for="nationality">Nationality: </label>
            <input type="text" id="nationality" name="nationality" placeholder="Australian">
            <br>
            <label for="income">Yearly Income ($AUD): </label>
            <input type="number" id="income" name="income" placeholder="51000">
            <br>
            <input style="margin-top: 10px !important; text-align: center !important; width: 200px !important; margin-left: 195px"class="nice-button" type="submit" value="Generate Insult" onclick="insultMother()">
        </form>
      </div>
      <p id="results">Your results will appear here.</p>
      <script>
        function insultMother() {
         urlParams = new URLSearchParams(location.search); // Get URL parameters
         mum = {
          name : urlParams.get('name'),
          age : urlParams.get('age'),
          height : urlParams.get('height'),
          weight : urlParams.get('weight'),
          bmi : urlParams.get('weight') / (urlParams.get('height') * urlParams.get('height')),
          intelligence : urlParams.get('intelligence'),
          attractiveness : urlParams.get('attractiveness'),
          scariness : urlParams.get('scariness'),
          nationality : urlParams.get('nationality'),
          income : urlParams.get('income'),
          traits : []
         }
         try {
          mum.bmi = mum.weight / (mum.height * mum.height);
         }
         catch(err) {
         }
         if (mum.age != null && mum.age > 0 && mum.age != '') {
         if (mum.age > 60){
            mum.traits.push('old')
         }
         } if (mum.height != null && mum.height > 0 && mum.height != '') {
         if (mum.height < 1.55){
             mum.traits.push('short')
         }
         } if (mum.bmi != null && mum.bmi > 0 && mum.bmi != '') {
         if (mum.bmi > 25){
             mum.traits.push('fat')
         }
         } if (mum.iq != null && mum.iq > 0 && mum.iq != '') {
         if (mum.iq < 85){
             mum.traits.push('stupid')
         }
         } if (mum.attractiveness != null && mum.attractiveness != '') {
         if (mum.attractiveness < 5){
             mum.traits.push('ugly')
         }
         } if (mum.scariness != null && mum.scariness != '') {
         if (mum.scariness > 6){
             mum.traits.push('scary')
         }
         } if (mum.nationality != null && mum.nationality != '') {
         if (mum.nationality.toLowerCase() == "american" || mum.nationality.toLowerCase() =="united states" || mum.nationality.toLowerCase() =="united states of america" || mum.nationality.toLowerCase() =="usa" || mum.nationality.toLowerCase() =="us" || mum.nationality.toLowerCase() =="america"){
             mum.traits.push('american')
         }
         if (mum.nationality.toLowerCase() == "french" || mum.nationality.toLowerCase() =="france"){
             mum.traits.push('french')
         }
         } if (mum.income != null && mum.income>0 && mum.income != '') {
         if (mum.income <= 60000){
             mum.traits.push('poor')
         }
         if (mum.income >= 330000){
             mum.traits.push('rich')
         }
         }
         
      document.getElementById("results").innerHTML = mum.traits;
      }
      </script>
      <h1>Under construction.</h1>
    </div>
  </body>
</html>