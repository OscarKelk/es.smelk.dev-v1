<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Radio Canada" rel="stylesheet"> 
    <link rel="stylesheet" href="styles.css">
    <title>Smelk | Place your order</title>
    <link rel="icon" type="image/x-icon" href="/assets/logo-coloured-notext.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        window.onload = function(){
          order_names = {  // Order ids to capitalised names
            "smelk_suite": ["Smelk Suite", 97.50],
            "funnyinator": ["Funnyinator", 25.95],
            "mum_insulter": ["Mum Insulter", 35.95],
            "text_editor": ["Text Editor", 29.99],
            "stopwatch": ["Stopwatch", 0.25]
          }

          urlParams = new URLSearchParams(location.search); // Get URL parameters
          order_item = urlParams.get("order_item"); // Order Item ID
          if (order_item != null && order_item != "") {
            document.getElementById("order_h1").innerHTML = "Place your order of the " + order_names[order_item][0]; // Use name from order_names
            document.getElementById("order_details_item").innerHTML = "Order Item: " + order_names[order_item][0]; // Use name from order_names
            document.getElementById("order-item-passthrough").value = order_item; // Pass order_item through to confirmation query string
          }
        }
        function quantityCallback(value) {
          var multiplier = order_names[order_item][1];
          document.getElementById("order-total").innerHTML = "Order Total: $" + value*multiplier;
        }
        $(document).ready(function() {  //jquery ðŸ˜³
            $(window).keydown(function(event){
                if(event.keyCode == 13) {
                event.preventDefault();
                return false;
                }
            });
        });
    </script>
    <noscript>Sorry, your browser does not support JavaScript.</noscript>
  </head>
  <body>
    <iframe style="top:0;" src="/navbar/navbar.html" id="navbar" title="navbar"></iframe> 
    <div id="body">
        <h1 id="order_h1">Place your Order</h1>
        <div class="side">
            <h2>Order Details</h2>
            <p id="order_details_item">Order Item: </p>
            <div style="text-align: center;">
                <form action="/order/orderConfirmation">
                    <input id="order-item-passthrough" type="hidden" name="order_item" value="order_item">

                    <label for="quantity">Quantity: </label>
                    <input type="number" id="quantity" name="quantity" placeholder="1" oninput="quantityCallback(this.value)">
                    <br>
                    <label for="name">Name: </label>
                    <input type="text" id="name" name="name" placeholder="John Smelk">
                    <br>
                    <label for="email">Email: </label>
                    <input type="email" id="email" name="email" placeholder="johnsmelk@smelk.dev">
                    <br>
                    <label for="address">Ship To: </label>
                    <input type="text" id="address" name="address" placeholder="1 Smelk Street">
                    <br>
                    <p id="order-total">Total: </p>
                    <br>
                    <input class="nice-button" type="submit" value="Place">
                </form>
            </div>
        </div>
    </div>
  </body>
</html>